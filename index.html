<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Payout Document</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f0f2f5;
    }
    .document {
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 700px;
      margin: auto;
    }
    .expired {
      color: red;
      font-weight: bold;
      text-align: center;
    }
    #signature-status {
      color: red;
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin: 8px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      padding: 10px 15px;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .info {
      background-color: #eef;
      padding: 10px;
      margin: 15px 0;
      border-radius: 5px;
    }
    .highlight {
      font-weight: bold;
      color: #444;
    }
  </style>
</head>
<body>
  <div class="document" id="document">
    <h2>üìÑ Crypto Transfer Authorization</h2>
    <p>You are scheduled to receive a crypto payout of <span class="highlight">$13,606 USD</span>.</p>

    <div class="info">
      <p><strong>Destination BNB Wallet Address:</strong><br>
      <code>0x647ec25975672c9b7f139cc69a65458ceace6ab3</code></p>
    </div>

    <p>To authorize this transfer, you must enter a digital signature before expiration.</p>

    <label for="signature">‚úçÔ∏è Signature:</label><br>
    <input type="text" id="signature" placeholder="Enter your signature here"><br>
    <button onclick="verifySignature()">Submit Signature</button>
    <p id="signature-status"></p>

    <p><em>‚è≥ Document expires in <span id="timer"></span>.</em></p>
  </div>

  <script>
    const status = document.getElementById("signature-status");
    const documentBox = document.getElementById("document");
    const signatureInput = document.getElementById("signature");
    const button = document.querySelector("button");
    const timerElement = document.getElementById("timer");

    const EXPIRY_KEY = "doc_expire_at";
    const EXPIRY_DURATION = 28800 * 1000; // 8 hours in milliseconds

    // Get or create the expiration timestamp
    function getOrSetExpiration() {
      let expireAt = localStorage.getItem(EXPIRY_KEY);
      if (!expireAt) {
        expireAt = Date.now() + EXPIRY_DURATION;
        localStorage.setItem(EXPIRY_KEY, expireAt);
      }
      return parseInt(expireAt);
    }

    const expireAt = getOrSetExpiration();

    function updateTimer() {
      const now = Date.now();
      const remaining = Math.floor((expireAt - now) / 1000);

      if (remaining <= 0) {
        documentBox.innerHTML = "<p class='expired'>‚õî Document has expired and is no longer available.</p>";
      } else {
        const hours = Math.floor(remaining / 3600);
        const minutes = Math.floor((remaining % 3600) / 60);
        const seconds = remaining % 60;
        timerElement.textContent = `${hours}h ${minutes}m ${seconds}s`;
        setTimeout(updateTimer, 1000);
      }
    }

    function verifySignature() {
      // Always reject the input
      status.textContent = "‚ùå Incorrect signature.";
      status.style.color = "red";
    }

    updateTimer();
  </script>
</body>
</html>
